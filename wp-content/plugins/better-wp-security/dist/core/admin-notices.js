(globalThis.itsecWebpackJsonP=globalThis.itsecWebpackJsonP||[]).push([[101],{24691:(e,t,r)=>{"use strict";r.r(t);var n=r(6293),o=r(95122),i=r(25993),a=r.n(i),s=r(54761),l=r(20070),c=r(64893),d=(r(97157),r(94184)),m=r.n(d),u=r(12614),p=r(48015),g=r(71930),h=r(3967);function x(){const[e,t]=(0,n.useState)(!1),{notices:r,noticesLoaded:i}=(0,p.useSelect)((e=>({notices:e("ithemes-security/admin-notices").getNotices(),noticesLoaded:e("ithemes-security/admin-notices").areNoticesLoaded()})));return(0,n.createElement)(u.a,{theme:g.U1},(0,n.createElement)(c.Button,{id:"itsec-admin-notices-toolbar-trigger",className:m()("ab-item ab-empty-item",{"itsec-admin-notices-toolbar--has-notices":r.length>0}),onClick:()=>t(!e),"aria-expanded":e},(0,n.createElement)("span",{className:"it-icon-itsec"}),(0,n.createElement)("span",{className:"itsec-toolbar-text"},(0,o.__)("Security","better-wp-security")),r.length>0&&(0,n.createElement)("span",{className:"itsec-admin-notices-toolbar-bubble"},(0,n.createElement)("span",{className:"itsec-admin-notices-toolbar-bubble__count"},r.length))),e&&(0,n.createElement)(c.Popover,{className:"itsec-admin-notices-toolbar__popover",noArrow:!0,expandOnMobile:!0,focusOnMount:"container",position:"bottom center",headerTitle:(0,o.__)("Security","better-wp-security"),onClose:()=>t(!1),onFocusOutside:()=>t(!1)},(0,n.createElement)(h.Z,{notices:r,loaded:i,close:()=>t(!1)})))}const b=function({portalEl:e}){return(0,n.createElement)(c.SlotFillProvider,null,(0,n.createPortal)((0,n.createElement)(c.Popover.Slot,null),e),(0,n.createElement)(x,null))};r.p=window.itsecWebpackPublicPath,(0,o.setLocaleData)({"":{}},"better-wp-security"),a()((()=>{const e=document.getElementById("wp-admin-bar-itsec_admin_bar_menu"),t=document.getElementById("itsec-admin-notices-root");return(0,n.render)((0,n.createElement)(b,{portalEl:t}),e)})),(0,s.addAction)("ithemes-security.admin-notices.triggerAction","ithemes-security/admin-notices/solid-welcome",(function(e,t,r){if("welcome-solidwp"!==t||"open"!==r)return;const o=document.createElement("div");o.classList.add("solid-welcome-container"),document.body.appendChild(o),(0,n.render)((0,n.createElement)(l.App,{onClose:()=>{o.remove()}}),o)}))},3967:(e,t,r)=>{"use strict";r.d(t,{Z:()=>H});var n=r(6293),o=r(95122),i=r(14776);const a=(0,n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(i.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));var s=r(71930),l=r(92819),c=r(48015),d=r(36179),m=r(52117);const u=(0,m.Z)("article",{target:"e6qo8d55"})("flex-grow:1;&>*:last-child{border-bottom:1px solid ",(({theme:e})=>e.colors.border.normal),";&:not(:first-child){border-bottom-left-radius:2px;border-bottom-right-radius:2px;}}"),p=(0,m.Z)("header",{target:"e6qo8d54"})("display:flex;flex-direction:column;gap:0.75rem;align-items:flex-start;padding:0.5rem;border-top:1px solid ",(({theme:e})=>e.colors.border.normal),";border-right:1px solid ",(({theme:e})=>e.colors.border.normal),";border-left:4px solid ",(({theme:e})=>e.colors.border.normal),";border-radius:2px;"),g=(0,m.Z)("section",{target:"e6qo8d53"})("padding:0.75rem;border-left:1px solid ",(({theme:e})=>e.colors.border.normal),";border-right:1px solid ",(({theme:e})=>e.colors.border.normal),";"),h=(0,m.Z)(s.Tg,{target:"e6qo8d52"})("display:grid;grid-template:auto/min-content 1fr;gap:1.25rem;margin:0;padding:0.75rem;border-left:1px solid ",(({theme:e})=>e.colors.border.normal),";border-right:1px solid ",(({theme:e})=>e.colors.border.normal),";"),x=(0,m.Z)(s.xv,{target:"e6qo8d51"})({name:"ti75j2",styles:"margin:0"}),b=(0,m.Z)("footer",{target:"e6qo8d50"})("padding:0.5rem 0.75rem;border-left:1px solid ",(({theme:e})=>e.colors.border.normal),";border-right:1px solid ",(({theme:e})=>e.colors.border.normal),";");function f({notice:e}){return(0,n.createElement)(u,null,(0,n.createElement)(p,{severity:e.severity},(0,n.createElement)(s.X6,{level:4,size:s.yH.NORMAL,weight:s.fs.HEAVY,variant:s.rK.DARK},(0,n.createElement)(d.Lu,{noWrap:!0,content:e.title||w(e.message,e)})),(0,l.map)(e.actions,((t,r)=>"primary"===t.style&&(0,n.createElement)(E,{key:r,notice:e,action:t})))),e.title&&e.message&&(0,n.createElement)(g,null,(0,n.createElement)(s.xv,{as:"p"},(0,n.createElement)(d.Lu,{noWrap:!0,content:w(e.message,e)}))),function(e){return!(0,l.isEmpty)(e.meta)&&(1!==(0,l.size)(e.meta)||!e.meta.hasOwnProperty("created_at"))}(e)&&(0,n.createElement)(h,{as:"dl",variant:s.h1.TERTIARY},(0,l.map)(e.meta,((e,t)=>"created_at"!==t&&(0,n.createElement)(n.Fragment,{key:t},(0,n.createElement)(x,{as:"dt",weight:s.fs.HEAVY,variant:s.rK.DARK,text:e.label,textTransform:"uppercase"}),(0,n.createElement)(x,{as:"dd",size:s.yH.SMALL,variant:s.rK.MUTED,text:e.formatted}))))),e.meta.created_at&&(0,n.createElement)(b,null,(0,n.createElement)(s.xv,{as:"time",dateTime:e.meta.created_at.value,text:e.meta.created_at.formatted,size:s.yH.SMALL})))}function E({notice:e,action:t}){const r=(0,c.useSelect)((r=>r("ithemes-security/admin-notices").getInProgressActions(e.id).includes(t.id)),[e.id,t.id]),{doNoticeAction:o}=(0,c.useDispatch)("ithemes-security/admin-notices"),{fetchModules:i}=(0,c.useDispatch)("ithemes-security/modules")||{};return t.route&&window.itsec?.pages?.settings?.history?(0,n.createElement)(y,{route:t.route,title:t.title,history:window.itsec?.pages?.settings?.history}):(0,n.createElement)(s.zx,{href:t.uri,onClick:async r=>{t.uri||(r.preventDefault(),await o(e.id,t.id),i?.())},isBusy:r},t.title)}function y({title:e,route:t,history:r}){return(0,n.createElement)(s.zx,{onClick:()=>r.push(t),href:r.createHref(t)},e)}function w(e,t){for(const r in t.actions)t.actions.hasOwnProperty(r)&&""!==t.actions[r].uri&&(e=e.replace("{{ $"+r+" }}",t.actions[r].uri));return e}var v=r(64893),_=r(27231);const C=(0,n.createElement)(i.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(i.Path,{d:"M7.5 12C7.5 11.1716 6.82843 10.5 6 10.5C5.17157 10.5 4.5 11.1716 4.5 12C4.5 12.8284 5.17157 13.5 6 13.5C6.82843 13.5 7.5 12.8284 7.5 12Z"}),(0,n.createElement)(i.Path,{d:"M13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1716 10.5 10.5 11.1716 10.5 12C10.5 12.8284 11.1716 13.5 12 13.5C12.8284 13.5 13.5 12.8284 13.5 12Z"}),(0,n.createElement)(i.Path,{d:"M19.5 12C19.5 11.1716 18.8284 10.5 18 10.5C17.1716 10.5 16.5 11.1716 16.5 12C16.5 12.8284 17.1716 13.5 18 13.5C18.8284 13.5 19.5 12.8284 19.5 12Z"})),L=(0,m.Z)(v.NavigableMenu,{target:"e1haur610"})({name:"p5tmle",styles:"display:flex;flex-direction:column;gap:0.5rem"});function N({notice:e}){const{inProgress:t}=(0,c.useSelect)((t=>({inProgress:t("ithemes-security/admin-notices").getInProgressActions(e.id)})),[e.id]),{doNoticeAction:r}=(0,c.useDispatch)("ithemes-security/admin-notices"),i=[];for(const o in e.actions){if(!e.actions.hasOwnProperty(o))continue;const a=e.actions[o];"close"===a.style&&i.push((0,n.createElement)(s.HC,{key:o},(0,n.createElement)(s.zx,{icon:_.Z,label:a.title,onClick:()=>r(e.id,o),isBusy:t.includes(o),variant:"tertiary"})))}const a=function(e){const t={};for(const r in e.actions){if(!e.actions.hasOwnProperty(r))continue;const n=e.actions[r];"close"!==n.style&&"primary"!==n.style&&(t[r]=n)}return t}(e);return(0,l.isEmpty)(a)||i.push((0,n.createElement)(s.HC,{key:"more"},(0,n.createElement)(v.Dropdown,{popoverProps:{position:"bottom left"},renderToggle:({isOpen:e,onToggle:t})=>(0,n.createElement)(s.zx,{icon:C,label:(0,o.__)("More Actions","better-wp-security"),onClick:t,"aria-haspopup":!0,"aria-expanded":e,variant:"tertiary"}),renderContent:()=>(0,n.createElement)(L,null,(0,l.map)(a,((o,i)=>o.uri?(0,n.createElement)(s.zx,{key:i,href:o.uri,text:o.title}):(0,n.createElement)(s.zx,{key:i,onClick:()=>r(e.id,i),disabled:t.includes(i),isBusy:t.includes(i),text:o.title}))))}))),(0,n.createElement)(s.aV,null,i)}const M=(0,m.Z)(s.HC,{target:"e2no5xj0"})({name:"aj6rbz",styles:"display:flex;gap:0.5rem"}),O=function({notices:e}){return(0,n.createElement)(s.aV,{gap:4},e.map((e=>(0,n.createElement)(M,{key:e.id},(0,n.createElement)(f,{notice:e,noticeId:e.id}),(0,n.createElement)(N,{notice:e})))))},S=(0,m.Z)(s.Tg,{target:"e5gyxtj3"})("display:flex;flex-direction:column;gap:1rem;width:320px;padding:1.25rem 1rem;box-sizing:border-box;border:1px solid ",(({theme:e})=>e.colors.border.normal),";"),k=(0,m.Z)("header",{target:"e5gyxtj2"})("display:flex;gap:0.5rem;align-items:center;justify-content:space-between;border-bottom:1px solid ",(({theme:e})=>e.colors.border.normal),";padding-bottom:1rem;"),A=(0,m.Z)("div",{target:"e5gyxtj1"})({name:"p5tmle",styles:"display:flex;flex-direction:column;gap:0.5rem"}),I=(0,m.Z)(s.aV,{target:"e5gyxtj0"})("border-bottom:1px solid ",(({theme:e})=>e.colors.border.normal),";padding-bottom:1rem;");function P({loaded:e,isConfiguring:t}){const{mutedHighlights:r,mutedHighlightUpdatesInFlight:i}=(0,c.useSelect)((e=>({mutedHighlights:e("ithemes-security/admin-notices").getMutedHighlights(),mutedHighlightUpdatesInFlight:e("ithemes-security/admin-notices").getMutedHighlightUpdatesInFlight()})),[]),{updateMutedHighlight:a}=(0,c.useDispatch)("ithemes-security/admin-notices");return t?(0,n.createElement)(I,null,[{slug:"file-change-report",label:(0,o.__)("File Change Report","better-wp-security")},{slug:"notification-center-send-failed",label:(0,o.__)("Notification Center Errors","better-wp-security")},{slug:"malware-scan-report",label:(0,o.__)("Malware Scan Report","better-wp-security")},{slug:"malware-scan-failed",label:(0,o.__)("Malware Scan Failed","better-wp-security")},{slug:"site-scanner-report",label:(0,o.__)("Site Scan Report","better-wp-security")}].map((({slug:t,label:o})=>void 0!==r[t]&&(0,n.createElement)(s.HC,{key:t},(0,n.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:o,disabled:!e||i[t],checked:!(0,l.get)(i,[t,"mute"],r[t]),onChange:()=>a(t,!r[t])}))))):null}function H({notices:e,loaded:t}){const[r,i]=(0,n.useState)(!1);return(0,n.createElement)(S,null,(0,n.createElement)(k,null,(0,n.createElement)(A,null,(0,n.createElement)(s.X6,{level:3,size:s.yH.NORMAL,variant:s.rK.ACCENT,weight:s.fs.HEAVY,text:(0,o.__)("Security Admin Messages","better-wp-security")}),(0,n.createElement)(s.xv,{as:"p",size:s.yH.SMALL,variant:s.rK.MUTED,text:(0,o.__)("Important notices from Solid Security","better-wp-security")})),(0,n.createElement)(s.zx,{icon:a,label:(0,o.__)("Configure","better-wp-security"),onClick:()=>i(!r),variant:"tertiary"})),(0,n.createElement)(P,{loaded:t,isConfiguring:r}),e.length>0&&(0,n.createElement)(O,{notices:e}),0===e.length&&t&&(0,n.createElement)(s.qX,{text:(0,o.__)("Keep up the good work! There are no security admin messages at this time.","better-wp-security")}))}},27231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(6293),o=r(14776);const i=(0,n.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(o.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}))},97157:e=>{e.exports=function(){return this.itsec.core["admin-notices-api"]}()},20070:e=>{e.exports=function(){return this.itsec.core["solid-welcome"]}()},31600:e=>{e.exports=function(){return this.itsec.packages.data}()},64893:e=>{e.exports=function(){return this.wp.components}()},9576:e=>{e.exports=function(){return this.wp.compose}()},48015:e=>{e.exports=function(){return this.wp.data}()},82521:e=>{e.exports=function(){return this.wp.date}()},25993:e=>{e.exports=function(){return this.wp.domReady}()},6293:e=>{e.exports=function(){return this.wp.element}()},54761:e=>{e.exports=function(){return this.wp.hooks}()},95122:e=>{e.exports=function(){return this.wp.i18n}()},81834:e=>{e.exports=function(){return this.wp.isShallowEqual}()},81019:e=>{e.exports=function(){return this.wp.keycodes}()},14776:e=>{e.exports=function(){return this.wp.primitives}()},73470:e=>{e.exports=function(){return this.wp.url}()},99196:e=>{"use strict";e.exports=window.React},92819:e=>{"use strict";e.exports=window.lodash}},e=>{e.O(0,[7271,1930,5307,9443,1511,976,6179],(()=>(24691,e(e.s=24691))));var t=e.O();((window.itsec=window.itsec||{}).core=window.itsec.core||{})["admin-notices"]=t}]);